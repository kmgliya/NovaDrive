"use client";

import { create } from "zustand";
import { persist } from "zustand/middleware";

type Locale = "en" | "ru";

type I18nState = {
  locale: Locale;
  setLocale: (locale: Locale) => void;
};

const translations: Record<Locale, Record<string, string>> = {
  en: {
    "nav.services": "Services",
    "nav.booking": "Booking",
    "nav.admin": "Admin",
    "nav.about": "About",
    "nav.signin": "Sign In",
    "nav.logout": "Logout",
    "nav.profile": "Profile",
    "nav.language": "Language",
    "nav.en": "EN",
    "nav.ru": "RU",

    "home.tag": "NovaDrive",
    "home.title": "The premium booking platform for services and fleet excellence.",
    "home.subtitle": "Book trusted specialists, manage schedules, and keep every client interaction seamless.",
    "home.cta.booking": "Start booking",
    "home.cta.services": "View services",

    "services.tag": "Services",
    "services.title": "Book premium care in minutes.",
    "services.subtitle": "Choose a service, pick a specialist, and secure a slot instantly. Designed for high-touch experiences.",
    "services.cta": "Start booking",

    "service.card.label": "Service",
    "service.card.select": "Select service",
    "service.card.selected": "Selected",
    "service.card.buffer": "Buffer",
    "service.card.before": "before",
    "service.card.after": "after",

    "booking.tag": "Booking wizard",
    "booking.title": "Secure your slot in four steps.",
    "booking.subtitle": "Your progress is saved. Refreshing the page keeps your selection.",
    "booking.step1": "Step 1",
    "booking.step2": "Step 2",
    "booking.step3": "Step 3",
    "booking.step4": "Step 4",
    "booking.selectService": "Select service",
    "booking.chooseSpecialist": "Choose a specialist",
    "booking.pickDay": "Pick a day",
    "booking.dateLabel": "Date",
    "booking.slots": "Select time slot",
    "booking.refreshHint": "Schedule refreshes every 10 seconds.",
    "booking.slotHint": "Multiple start times per day. Locked slots expire in 3 minutes. After picking a time, finish payment on the right panel.",
    "booking.refreshSelection": "Refresh selection",
    "booking.releaseLock": "Release lock",

    "summary.title": "Payment & confirmation",
    "summary.missing": "Select a service, specialist, date, and time slot to unlock payment.",
    "summary.service": "Service",
    "summary.specialist": "Specialist",
    "summary.date": "Date",
    "summary.time": "Time",
    "summary.total": "Total",
    "summary.confirm": "Confirm & pay",
    "summary.processing": "Processing...",
    "summary.reset": "Reset flow",
    "summary.failed": "Booking failed. Try a different slot.",
    "summary.card.title": "Card payment",
    "summary.card.number": "Card number",
    "summary.card.name": "Cardholder name",
    "summary.card.expiry": "Expiry",
    "summary.card.cvc": "CVC",
    "summary.card.note": "Mock payment only. No real charges.",
    "summary.card.locked": "Fields will appear after selecting a slot.",
    "summary.card.error": "Please fill in all card fields.",

    "auth.login.tag": "Member access",
    "auth.login.title": "Welcome back",
    "auth.login.subtitle": "Log in to manage your bookings and bookings history.",
    "auth.login.email": "Email",
    "auth.login.password": "Password",
    "auth.login.adminCode": "Admin code (optional)",
    "auth.login.adminCodeHint": "novadrive-admin",
    "auth.login.cta": "Log In",
    "auth.login.ctaLoading": "Signing In...",
    "auth.login.noAccount": "Don't have an account?",
    "auth.login.register": "Register now",

    "auth.register.tag": "New account",
    "auth.register.title": "Create your profile",
    "auth.register.subtitle": "Join NovaDrive to unlock premium fleet access.",
    "auth.register.name": "Full name",
    "auth.register.email": "Email",
    "auth.register.phone": "Phone",
    "auth.register.password": "Password",
    "auth.register.adminCode": "Admin code (optional)",
    "auth.register.adminCodeHint": "novadrive-admin",
    "auth.register.cta": "Create account",
    "auth.register.ctaLoading": "Creating...",
    "auth.register.haveAccount": "Already have an account?",
    "auth.register.login": "Log in",

    "auth.hero.login.title": "Premium fleet access. Seamless bookings. Pure control.",
    "auth.hero.login.subtitle": "Enter your account to manage reservations, compare vehicles, and receive exclusive rate drops.",
    "auth.hero.register.title": "Your first drive starts here.",
    "auth.hero.register.subtitle": "Create a profile to access premium vehicles, managed bookings, and priority support.",
    "auth.hero.badge.fast": "Fast check-in",
    "auth.hero.badge.support": "Luxury support",
    "auth.hero.badge.trusted": "Trusted partners",
    "auth.hero.badge.priority": "Priority support",
    "auth.hero.badge.offers": "Elite offers",
    "auth.hero.badge.secure": "Secure access",
    "about.title": "About NovaDrive Kyrgyzstan",
    "about.subtitle": "Official branches in every region, with a flagship location in Bishkek.",
    "about.mapTitle": "Bishkek flagship location",
    "about.mapAddressTitle": "Address",
    "about.mapAddress": "AutoPark - Rent a car in Kyrgyzstan, Travel agency, 1 floor, office 107, 109/1 Turusbekova street, Bishkek 720001",
    "about.infoTitle": "Who we are",
    "about.infoBody": "NovaDrive is a premium mobility brand delivering high-touch service, transparent pricing, and curated fleets for business and leisure clients across Kyrgyzstan.",
    "about.valuesTitle": "Our promise",
    "about.valuesBody": "We combine modern booking technology with on-ground support. Every reservation is confirmed, every vehicle is inspected, and every client is supported 24/7.",
    "about.branchesTitle": "Regional branches",
    "about.contactTitle": "Contact",
    "about.phone": "Phone",
    "about.city": "City",

    "admin.nav.specialists": "Specialists",
    "admin.specialistsTitle": "Specialist management",
    "admin.specialistsDesc": "Edit specialist profiles, photos, and expertise areas.",
    "admin.label.specialization": "Specialization",
    "admin.btn.saveSpecialist": "Save specialist",

    "profile.title": "Profile",
    "profile.member": "Member since 2026",
    "profile.email": "Email",
    "profile.phone": "Phone",
    "profile.status": "Status",
    "profile.statusActive": "Active",
    "profile.bookings": "Bookings",
    "profile.manageTitle": "Manage your reservations",
    "profile.manageSubtitle": "Cancel or reschedule active bookings. Completed bookings are read-only.",

    "bookings.empty": "No bookings yet. Create your first reservation.",
    "bookings.active": "Active bookings",
    "bookings.past": "Past bookings",
    "bookings.label": "Booking",
    "bookings.reschedule": "Reschedule",
    "bookings.cancel": "Cancel booking",
    "bookings.apply": "Apply",
    "bookings.close": "Cancel",
    "status.active": "Active",
    "status.completed": "Completed",
    "status.cancelled": "Cancelled",

    "catalog.tag": "Fleet",
    "catalog.title": "Choose the car that defines your drive.",
    "catalog.subtitle": "Curated premium vehicles with transparent pricing and seamless booking. Experience the NovaDrive signature collection.",
    "catalog.book": "Book now",
    "catalog.buffer": "Buffer",

    "admin.tag": "Admin Panel",
    "admin.title": "NovaDrive Control",
    "admin.nav.dashboard": "Dashboard",
    "admin.nav.fleet": "Fleet",
    "admin.nav.users": "Users",
    "admin.performance": "Performance",
    "admin.revenueTitle": "Revenue intelligence",
    "admin.revenueSubtitle": "Real-time snapshot of NovaDrive daily income and active rentals.",
    "admin.totalRevenue": "Total Revenue",
    "admin.activeRentals": "Active Rentals",
    "admin.avgMsrp": "Avg MSRP",
    "admin.totalModels": "Total Models",
    "admin.fleet": "Fleet",
    "admin.carManagement": "Car management",
    "admin.carDesc": "Edit visuals, pricing, and availability across the premium lineup.",
    "admin.userTitle": "Client profiles",
    "admin.userDesc": "Upgrade profile visuals and review roles instantly.",
    "admin.label.name": "Name",
    "admin.label.image": "Image URL",
    "admin.label.price": "Price / Hour",
    "admin.label.avatar": "Avatar URL",
    "admin.btn.save": "Save changes",
    "admin.btn.archive": "Archive",
    "admin.btn.update": "Update",
  },
  ru: {
    "nav.services": "Сервисы",
    "nav.booking": "Бронирование",
    "nav.admin": "Админ",
    "nav.about": "О нас",
    "nav.signin": "Войти",
    "nav.logout": "Выйти",
    "nav.profile": "Профиль",
    "nav.language": "Язык",
    "nav.en": "EN",
    "nav.ru": "RU",

    "home.tag": "NovaDrive",
    "home.title": "Премиальная платформа бронирования услуг и автопарка.",
    "home.subtitle": "Бронируйте специалистов, управляйте расписанием и обеспечивайте безупречный сервис.",
    "home.cta.booking": "Начать бронирование",
    "home.cta.services": "Смотреть услуги",

    "services.tag": "Сервисы",
    "services.title": "Премиальный сервис за минуты.",
    "services.subtitle": "Выберите услугу, специалиста и забронируйте слот мгновенно. Для безупречного сервиса.",
    "services.cta": "Начать бронирование",

    "service.card.label": "Услуга",
    "service.card.select": "Выбрать услугу",
    "service.card.selected": "Выбрано",
    "service.card.buffer": "Буфер",
    "service.card.before": "до",
    "service.card.after": "после",

    "booking.tag": "Мастер бронирования",
    "booking.title": "Забронируйте слот в 4 шага.",
    "booking.subtitle": "Прогресс сохраняется. Обновление страницы не сбрасывает выбор.",
    "booking.step1": "Шаг 1",
    "booking.step2": "Шаг 2",
    "booking.step3": "Шаг 3",
    "booking.step4": "Шаг 4",
    "booking.selectService": "Выберите услугу",
    "booking.chooseSpecialist": "Выберите специалиста",
    "booking.pickDay": "Выберите день",
    "booking.dateLabel": "Дата",
    "booking.slots": "Выберите время",
    "booking.refreshHint": "Расписание обновляется каждые 10 секунд.",
    "booking.slotHint": "Несколько вариантов времени в день. Заблокированные слоты освобождаются через 3 минуты. После выбора времени завершите оплату справа.",
    "booking.refreshSelection": "Обновить выбор",
    "booking.releaseLock": "Снять блокировку",

    "summary.title": "Оплата и подтверждение",
    "summary.missing": "Выберите услугу, специалиста, дату и время, чтобы открыть оплату.",
    "summary.service": "Услуга",
    "summary.specialist": "Специалист",
    "summary.date": "Дата",
    "summary.time": "Время",
    "summary.total": "Итого",
    "summary.confirm": "Подтвердить и оплатить",
    "summary.processing": "Оплата...",
    "summary.reset": "Сбросить",
    "summary.failed": "Ошибка бронирования. Попробуйте другой слот.",
    "summary.card.title": "Оплата картой",
    "summary.card.number": "Номер карты",
    "summary.card.name": "Имя держателя",
    "summary.card.expiry": "Срок",
    "summary.card.cvc": "CVC",
    "summary.card.note": "Только макет оплаты. Списаний нет.",
    "summary.card.locked": "Поля появятся после выбора слота.",
    "summary.card.error": "Заполните все поля карты.",

    "auth.login.tag": "Доступ",
    "auth.login.title": "С возвращением",
    "auth.login.subtitle": "Войдите, чтобы управлять бронированиями.",
    "auth.login.email": "Email",
    "auth.login.password": "Пароль",
    "auth.login.adminCode": "Код администратора (необяз.)",
    "auth.login.adminCodeHint": "novadrive-admin",
    "auth.login.cta": "Войти",
    "auth.login.ctaLoading": "Вход...",
    "auth.login.noAccount": "Нет аккаунта?",
    "auth.login.register": "Зарегистрироваться",

    "auth.register.tag": "Новый аккаунт",
    "auth.register.title": "Создайте профиль",
    "auth.register.subtitle": "Получите доступ к премиальным услугам.",
    "auth.register.name": "Имя и фамилия",
    "auth.register.email": "Email",
    "auth.register.phone": "Телефон",
    "auth.register.password": "Пароль",
    "auth.register.adminCode": "Код администратора (необяз.)",
    "auth.register.adminCodeHint": "novadrive-admin",
    "auth.register.cta": "Создать аккаунт",
    "auth.register.ctaLoading": "Создание...",
    "auth.register.haveAccount": "Уже есть аккаунт?",
    "auth.register.login": "Войти",

    "auth.hero.login.title": "Премиальный доступ. Удобные брони. Полный контроль.",
    "auth.hero.login.subtitle": "Войдите, чтобы управлять бронированиями и получать эксклюзивные предложения.",
    "auth.hero.register.title": "Ваше первое бронирование начинается здесь.",
    "auth.hero.register.subtitle": "Создайте профиль и получите доступ к приоритетной поддержке.",
    "auth.hero.badge.fast": "Быстрый чек‑ин",
    "auth.hero.badge.support": "Премиум поддержка",
    "auth.hero.badge.trusted": "Надежные партнеры",
    "auth.hero.badge.priority": "Приоритетная поддержка",
    "auth.hero.badge.offers": "Эксклюзивные офферы",
    "auth.hero.badge.secure": "Безопасный доступ",
    "about.title": "О NovaDrive Кыргызстан",
    "about.subtitle": "Филиалы во всех регионах, главный офис в Бишкеке.",
    "about.mapTitle": "Главный офис в Бишкеке",
    "about.mapAddressTitle": "Адрес",
    "about.mapAddress": "AutoPark - Rent a car in Kyrgyzstan, Travel agency, 1 этаж, офис 107, 109/1 ул. Турусбекова, Бишкек 720001",
    "about.infoTitle": "Кто мы",
    "about.infoBody": "NovaDrive — премиальный сервис мобильности с прозрачными ценами, внимательным сервисом и отобранным автопарком для бизнеса и частных клиентов по всему Кыргызстану.",
    "about.valuesTitle": "Наше обещание",
    "about.valuesBody": "Мы объединяем современное бронирование и локальную поддержку. Каждая бронь подтверждается, каждый автомобиль проверяется, клиент получает поддержку 24/7.",
    "about.branchesTitle": "Региональные филиалы",
    "about.contactTitle": "Контакты",
    "about.phone": "Телефон",
    "about.city": "Город",

    "admin.nav.specialists": "Мастера",
    "admin.specialistsTitle": "Управление мастерами",
    "admin.specialistsDesc": "Редактируйте профиль, фото и специализацию мастеров.",
    "admin.label.specialization": "Специализация",
    "admin.btn.saveSpecialist": "Сохранить мастера",

    "profile.title": "Профиль",
    "profile.member": "Клиент с 2026",
    "profile.email": "Email",
    "profile.phone": "Телефон",
    "profile.status": "Статус",
    "profile.statusActive": "Активен",
    "profile.bookings": "Бронирования",
    "profile.manageTitle": "Управление бронированиями",
    "profile.manageSubtitle": "Можно переносить или отменять активные брони. Завершенные — только просмотр.",

    "bookings.empty": "Пока нет бронирований. Создайте первое.",
    "bookings.active": "Активные бронирования",
    "bookings.past": "Прошлые бронирования",
    "bookings.label": "Бронирование",
    "bookings.reschedule": "Перенести",
    "bookings.cancel": "Отменить",
    "bookings.apply": "Применить",
    "bookings.close": "Закрыть",
    "status.active": "Активно",
    "status.completed": "Завершено",
    "status.cancelled": "Отменено",

    "catalog.tag": "Автопарк",
    "catalog.title": "Выберите автомобиль, который подчеркнет ваш стиль.",
    "catalog.subtitle": "Премиальные автомобили с прозрачными условиями и быстрым бронированием.",
    "catalog.book": "Забронировать",
    "catalog.buffer": "Буфер",

    "admin.tag": "Админ‑панель",
    "admin.title": "NovaDrive Control",
    "admin.nav.dashboard": "Дашборд",
    "admin.nav.fleet": "Автопарк",
    "admin.nav.users": "Пользователи",
    "admin.performance": "Показатели",
    "admin.revenueTitle": "Доход и аналитика",
    "admin.revenueSubtitle": "Снимок доходов и активных бронирований в реальном времени.",
    "admin.totalRevenue": "Общий доход",
    "admin.activeRentals": "Активные брони",
    "admin.avgMsrp": "Средняя цена",
    "admin.totalModels": "Всего моделей",
    "admin.fleet": "Автопарк",
    "admin.carManagement": "Управление авто",
    "admin.carDesc": "Редактируйте фото, цены и доступность.",
    "admin.userTitle": "Профили клиентов",
    "admin.userDesc": "Редактируйте данные и роли пользователей.",
    "admin.label.name": "Имя",
    "admin.label.image": "Ссылка на фото",
    "admin.label.price": "Цена / час",
    "admin.label.avatar": "Ссылка на аватар",
    "admin.btn.save": "Сохранить",
    "admin.btn.archive": "Архивировать",
    "admin.btn.update": "Обновить",
  },
};

export const useI18nStore = create<I18nState>()(
  persist(
    (set) => ({
      locale: "en",
      setLocale: (locale) => set({ locale }),
    }),
    { name: "novadrive-locale" }
  )
);

export const useI18n = () => {
  const locale = useI18nStore((state) => state.locale);
  const setLocale = useI18nStore((state) => state.setLocale);

  const t = (key: string) => translations[locale]?.[key] ?? key;

  return { t, locale, setLocale };
};
